%center-div {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
}

$moon-container-dimension: 200px;
$moon-color: blue;
$shadow-opacity: 0.4;
$shadow-time-length: 5s;

@keyframes shadow-left-start {
    50%, 100% {
        left: 100%;
        width: 0;
    }
}

@keyframes shadow-left-end {}

@keyframes shadow-right-start {
    0%, 50% {
        right: 100%;
        width: 0;
    }
    100% {
        right: 0;
        width: $moon-container-dimension;
    }
}

@keyframes shadow-right-end {}

.apod__loading {
    height: 100%;
    width: 100%;

    &.hide {
        @extend %hide;
    }

    .loading-container {
        @extend %center-div;
        width: $moon-container-dimension;
        height: $moon-container-dimension;
    }

    .circle {
        @extend %center-div;
        width: $moon-container-dimension;
        height: $moon-container-dimension;
        border-radius: 50%;
        background: $moon-color;
    }

    .moon-shade {
        @extend .circle;

        // Shades
        .shade-left,
        .shade-right {
            position: absolute;
            border-radius: 50%;
            width: $moon-container-dimension;
            height: $moon-container-dimension;
            animation-fill-mode: forwards;
        }

        // Masks
        .mask-left,
        .mask-right {
            position: absolute;
            width: $moon-container-dimension/2;
            height: $moon-container-dimension;
            overflow: hidden;
        }

        // Left Side
        .mask-left,
        .shade-left {
            left: 0;
        }

        // Right Side
        .mask-right,
        .shade-right {
            right: 0;
        }

        .shade-left,
        .mask-right {
            background: black;
            opacity: $shadow-opacity;
        }

        .shade-left {
            animation: shadow-left-start $shadow-time-length infinite linear;
        }

        .shade-right {
            background: $moon-color;
            animation: shadow-right-start $shadow-time-length infinite linear;
        }
    }
}
